(()=>{var e={};e.id=745,e.ids=[745],e.modules={228:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2688).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1031:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/frontend/src/app/analytics/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/frontend/src/app/analytics/page.tsx","default")},2276:(e,s,t)=>{Promise.resolve().then(t.bind(t,2604))},2604:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(687),r=t(3210),l=t(508),n=t(2688);let i=(0,n.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),c=(0,n.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var d=t(3411),x=t(5541),o=t(2640),m=t(3928),h=t(228),p=t(1312);let u=(0,n.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var j=t(4398),g=t(8730),y=t(1860);function f(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)(!0),[f,v]=(0,r.useState)(null),[N,b]=(0,r.useState)("month"),w=async()=>{n(!0),v(null);try{let e=await fetch(`/api/analytics?range=${N}`);if(!e.ok)throw Error("Failed to fetch analytics");let t=await e.json();s(t)}catch(e){v("Failed to load analytics data"),console.error("Analytics error:",e)}finally{n(!1)}},A=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),k=e=>`${e>0?"+":""}${e.toFixed(1)}%`;return t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50/50",children:[(0,a.jsx)(l.A,{darkMode:!1}),(0,a.jsx)("div",{className:"ml-64 flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading analytics..."})]})})]}):f?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50/50",children:[(0,a.jsx)(l.A,{darkMode:!1}),(0,a.jsx)("div",{className:"ml-64 flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(c,{className:"w-8 h-8 text-red-500"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Analytics"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:f}),(0,a.jsx)("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})})]}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50/50",children:[(0,a.jsx)(l.A,{darkMode:!1}),(0,a.jsx)("div",{className:"ml-64 p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track your business performance and insights"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:N,onChange:e=>b(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[(0,a.jsx)("option",{value:"today",children:"Today"}),(0,a.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,a.jsx)("option",{value:"month",children:"Last Month"}),(0,a.jsx)("option",{value:"quarter",children:"Last 3 Months"}),(0,a.jsx)("option",{value:"half_year",children:"Last 6 Months"}),(0,a.jsx)("option",{value:"year",children:"Yearly"})]}),(0,a.jsx)("button",{onClick:w,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(i,{className:"w-5 h-5"})})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A(e.revenue.total)}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[e.revenue.growth>=0?(0,a.jsx)(x.A,{className:"w-4 h-4 text-green-500 mr-1"}):(0,a.jsx)(o.A,{className:"w-4 h-4 text-red-500 mr-1"}),(0,a.jsx)("span",{className:`text-sm font-medium ${e.revenue.growth>=0?"text-green-600":"text-red-600"}`,children:k(e.revenue.growth)})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Appointments"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.appointments.total}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-blue-500 mr-1"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.appointments.completion_rate.toFixed(1),"% completion rate"]})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(h.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Clients"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.clients.total}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-purple-500 mr-1"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.clients.new_in_period," new in period"]})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(p.A,{className:"w-6 h-6 text-purple-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Avg per Appointment"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A(e.revenue.avg_appointment_value)}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(u,{className:"w-4 h-4 text-orange-500 mr-1"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.clients.retention_rate.toFixed(1),"% retention"]})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(u,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Top Services"}),(0,a.jsx)("div",{className:"space-y-4",children:e.services.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600",children:s+1})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.bookings," bookings"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:A(e.revenue)}),(0,a.jsxs)("div",{className:"flex items-center",children:[e.growth>=0?(0,a.jsx)(x.A,{className:"w-3 h-3 text-green-500 mr-1"}):(0,a.jsx)(o.A,{className:"w-3 h-3 text-red-500 mr-1"}),(0,a.jsx)("span",{className:`text-xs ${e.growth>=0?"text-green-600":"text-red-600"}`,children:k(e.growth)})]})]})]},e.name))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Top Performers"}),(0,a.jsx)("div",{className:"space-y-4",children:e.employees.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-purple-600",children:s+1})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.appointments," appointments"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:A(e.revenue)}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.A,{className:"w-3 h-3 text-yellow-500 mr-1"}),(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:[e.utilization.toFixed(1),"% utilization"]})]})]})]},e.name))})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Appointment Status Distribution"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(g.A,{className:"w-8 h-8 text-green-600"})}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.appointments.completed}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Completed"}),(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[e.appointments.completion_rate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(h.A,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.appointments.scheduled}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Scheduled"}),(0,a.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:[(e.appointments.scheduled/e.appointments.total*100).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(y.A,{className:"w-8 h-8 text-red-600"})}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.appointments.cancelled}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Cancelled"}),(0,a.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:[e.appointments.cancellation_rate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(d.A,{className:"w-8 h-8 text-gray-600"})}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.appointments.total}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"All appointments"})]})]})]})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50/50",children:[(0,a.jsx)(l.A,{darkMode:!1}),(0,a.jsx)("div",{className:"ml-64 flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Analytics Data"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No data available for the selected time range."})]})})]})}},2640:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2688).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4398:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2688).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},4826:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>o,pages:()=>x,routeModule:()=>m,tree:()=>d});var a=t(5239),r=t(8088),l=t(8170),n=t.n(l),i=t(893),c={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d={children:["",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1031)),"/app/frontend/src/app/analytics/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,4431)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,x=["/app/frontend/src/app/analytics/page.tsx"],o={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/analytics/page",pathname:"/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5541:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2688).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},5892:(e,s,t)=>{Promise.resolve().then(t.bind(t,1031))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[447,496,658,359],()=>t(4826));module.exports=a})();